<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>lincs &#8212; lincs 0.3.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="lincs">
<h1><em>lincs</em><a class="headerlink" href="#lincs" title="Permalink to this heading">¶</a></h1>
<p><em>lincs</em> is a collection of MCDA algorithms, usable as a C++ library, a Python package and a command-line utility.</p>
<p><em>lincs</em> is licensed under the GNU Lesser General Public License v3.0 as indicated by the two files <a class="reference external" href="COPYING">COPYING</a> and <a class="reference external" href="COPYING.LESSER">COPYING.LESSER</a>.</p>
<p>&#64;todo (When we have a paper to actually cite) Add a note asking academics to kindly cite our work.</p>
<p>Questions? Remarks? Bugs? Want to contribute? Open <a class="reference external" href="https://github.com/MICS-Lab/lincs/issues">an issue</a> or <a class="reference external" href="https://github.com/MICS-Lab/lincs/discussions">a discussion</a>!</p>
</section>
<section id="contributors-and-previous-work">
<h1>Contributors and previous work<a class="headerlink" href="#contributors-and-previous-work" title="Permalink to this heading">¶</a></h1>
<p><em>lincs</em> is developed by the <a class="reference external" href="https://mics.centralesupelec.fr/">MICS</a> research team at <a class="reference external" href="https://www.centralesupelec.fr/">CentraleSupélec</a>.</p>
<p>Its main authors are (alphabetical order):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cabaretl.pages.centralesupelec.fr/">Laurent Cabaret</a> (performance optimization)</p></li>
<li><p><a class="reference external" href="https://vincent-jacques.net">Vincent Jacques</a> (engineering)</p></li>
<li><p><a class="reference external" href="https://www.centralesupelec.fr/fr/2EBDCB86-64A4-4747-96E8-C3066CB61F3D">Vincent Mousseau</a> (domain expertise)</p></li>
<li><p><a class="reference external" href="https://wassilaouerdane.github.io/">Wassila Ouerdane</a> (domain expertise)</p></li>
</ul>
<p>It’s based on work by:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://olivier.sobrie.be/">Olivier Sobrie</a> (The “weights, profiles, breed” learning strategy for MR-Sort models, and the profiles improvement heuristic, developed in his <a class="reference external" href="http://olivier.sobrie.be/papers/phd_2016_sobrie.pdf">Ph.D thesis</a>, and <a class="reference external" href="https://github.com/oso/pymcda">implemented in Python</a>)</p></li>
<li><p>Emma Dixneuf, Thibault Monsel and Thomas Vindard (<a class="reference external" href="https://github.com/Mostah/fastPL/">C++ implementation of Sobrie’s heuristic</a>)</p></li>
</ul>
</section>
<section id="project-goals">
<h1>Project goals<a class="headerlink" href="#project-goals" title="Permalink to this heading">¶</a></h1>
<section id="provide-mcda-tools-usable-out-of-the-box">
<h2>Provide MCDA tools usable out of the box<a class="headerlink" href="#provide-mcda-tools-usable-out-of-the-box" title="Permalink to this heading">¶</a></h2>
<p>You should be able to use <em>lincs</em> without being a specialist of MCDA and/or NCS models.
Just follow the <a class="reference external" href="#get-started">Get started</a> section below.</p>
</section>
<section id="provide-a-base-for-developing-new-mcda-algorithms">
<h2>Provide a base for developing new MCDA algorithms<a class="headerlink" href="#provide-a-base-for-developing-new-mcda-algorithms" title="Permalink to this heading">¶</a></h2>
<p><em>lincs</em> is designed to be easy to extend with new algorithms of even replace parts of existing algorithms.
&#64;todo Write doc about that use case.</p>
<p><em>linc</em> also provides a benchmark framework to compare algorithms (&#64;todo Write and document).
This should make it easier to understand the relative strengths and weaknesses of each algorithm.</p>
</section>
</section>
<section id="id1">
<h1>Get started<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<section id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this heading">¶</a></h2>
<p>First, you need to install a few dependencies (&#64;todo build binary wheel distributions to make installation easier):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># System packages
sudo apt-get install --yes g++ libboost-python-dev python3-dev libyaml-cpp-dev

# CUDA
sudo apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/3bf863cc.pub
sudo add-apt-repository &#39;deb https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/ /&#39;
sudo apt-get update
sudo apt-get install --yes cuda-cudart-dev-12-1 cuda-nvcc-12-1

# OR-tools
wget https://github.com/google/or-tools/releases/download/v8.2/or-tools_ubuntu-20.04_v8.2.8710.tar.gz
tar xf or-tools_ubuntu-20.04_v8.2.8710.tar.gz
sudo cp -r or-tools_Ubuntu-20.04-64bit_v8.2.8710/include/* /usr/local/include
sudo cp -r or-tools_Ubuntu-20.04-64bit_v8.2.8710/lib/*.so /usr/local/lib
sudo ldconfig
rm -r or-tools_Ubuntu-20.04-64bit_v8.2.8710 or-tools_ubuntu-20.04_v8.2.8710.tar.gz

# Header-only libraries
cd /usr/local/include
sudo wget https://raw.githubusercontent.com/Neargye/magic_enum/v0.8.2/include/magic_enum.hpp
sudo wget https://raw.githubusercontent.com/d99kris/rapidcsv/v8.75/src/rapidcsv.h
sudo wget https://raw.githubusercontent.com/jacquev6/lov-e-cuda/13e45bc/lov-e.hpp
sudo wget https://raw.githubusercontent.com/doctest/doctest/v2.4.11/doctest/doctest.h
</pre></div>
</div>
<p>Finally, <em>lincs</em> is available on the <a class="reference external" href="https://pypi.org/project/lincs/">Python Package Index</a>, so <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">lincs</span></code> should finalize the install.</p>
</section>
<section id="concepts-and-files">
<h2>Concepts and files<a class="headerlink" href="#concepts-and-files" title="Permalink to this heading">¶</a></h2>
<p><em>lincs</em> is based on the following concepts:</p>
<ul class="simple">
<li><p>a “domain” describes the objects to be classified (<em>a.k.a.</em> the “alternatives”), the criteria used to classify them, and the existing categories they can belong to;</p></li>
<li><p>a “model” is used to actually assign a category to each alternative, based on the values of the criteria for that alternative;</p></li>
<li><p>a “classified alternative” is an alternative, with its category.</p></li>
</ul>
</section>
<section id="start-using-lincs-command-line-interface">
<h2>Start using <em>lincs</em>’ command-line interface<a class="headerlink" href="#start-using-lincs-command-line-interface" title="Permalink to this heading">¶</a></h2>
<p>The command-line interface is the easiest way to get started with <em>lincs</em>, starting with <code class="docutils literal notranslate"><span class="pre">lincs</span> <span class="pre">--help</span></code>, which should output something like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: lincs [OPTIONS] COMMAND [ARGS]...

  lincs (Learn and Infer Non-Compensatory Sorting) is a set of tools for
  training and using MCDA models.

Options:
  --help  Show this message and exit.

Commands:
  classification-accuracy  Compute a classification accuracy.
  classify                 Classify alternatives.
  generate                 Generate synthetic data.
  learn                    Learn a model.
  visualize                Make graphs from data.
</pre></div>
</div>
<p>It’s organized using sub-commands, the first one being <code class="docutils literal notranslate"><span class="pre">generate</span></code>, to generate synthetic pseudo-random data.</p>
<p>Generate a classification domain with 4 criteria and 3 categories (&#64;todo Link to concepts and file formats):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs generate classification-domain 4 3 --output-domain domain.yml
</pre></div>
</div>
<p>The generated <code class="docutils literal notranslate"><span class="pre">domain.yml</span></code> should look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>kind: classification-domain
format_version: 1
criteria:
  - name: Criterion 1
    value_type: real
    category_correlation: growing
  - name: Criterion 2
    value_type: real
    category_correlation: growing
  - name: Criterion 3
    value_type: real
    category_correlation: growing
  - name: Criterion 4
    value_type: real
    category_correlation: growing
categories:
  - name: Category 1
  - name: Category 2
  - name: Category 3
</pre></div>
</div>
<p>Then generate a classification model (&#64;todo Link to concepts and file formats):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs generate classification-model domain.yml --output-model model.yml
</pre></div>
</div>
<p>It should look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>kind: classification-model
format_version: 1
boundaries:
  - profile:
      - 0.255905151
      - 0.0551739037
      - 0.162252158
      - 0.0526000932
    sufficient_coalitions:
      kind: weights
      criterion_weights:
        - 0.147771254
        - 0.618687689
        - 0.406786472
        - 0.0960085914
  - profile:
      - 0.676961303
      - 0.324553937
      - 0.673279881
      - 0.598555863
    sufficient_coalitions:
      kind: weights
      criterion_weights:
        - 0.147771254
        - 0.618687689
        - 0.406786472
        - 0.0960085914
</pre></div>
</div>
<p>&#64;todo Use YAML anchors and references to avoid repeating the same sufficient coalitions in all profiles</p>
<p>You can visualize it using:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs visualize classification-model domain.yml model.yml model.png
</pre></div>
</div>
<p>It should output something like:</p>
<img alt="Model visualization" class="align-center" src="_images/model.png" />
<p>And finally generate a set of classified alternatives (&#64;todo Link to concepts and file formats):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs generate classified-alternatives domain.yml model.yml 1000 --output-classified-alternatives learning-set.csv
</pre></div>
</div>
<p>It should start with something like this, and contain 1000 alternatives:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>name,&quot;Criterion 1&quot;,&quot;Criterion 2&quot;,&quot;Criterion 3&quot;,&quot;Criterion 4&quot;,category
&quot;Alternative 1&quot;,0.37454012,0.796543002,0.95071429,0.183434784,&quot;Category 3&quot;
&quot;Alternative 2&quot;,0.731993914,0.779690981,0.598658502,0.596850157,&quot;Category 2&quot;
&quot;Alternative 3&quot;,0.156018645,0.445832759,0.15599452,0.0999749228,&quot;Category 1&quot;
&quot;Alternative 4&quot;,0.0580836125,0.4592489,0.866176128,0.333708614,&quot;Category 3&quot;
&quot;Alternative 5&quot;,0.601114988,0.14286682,0.708072603,0.650888503,&quot;Category 2&quot;
</pre></div>
</div>
<p>You can visualize its first five alternatives using:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs visualize classification-model domain.yml model.yml --alternatives learning-set.csv --alternatives-count 5 alternatives.png
</pre></div>
</div>
<p>It should output something like:</p>
<img alt="Alternatives visualization" class="align-center" src="_images/alternatives.png" />
<p>&#64;todo Improve how this graph looks:</p>
<ul class="simple">
<li><p>display categories as stacked solid colors</p></li>
<li><p>display alternatives in a color that matches their assigned category</p></li>
<li><p>remove the legend, place names (categories and alternatives) directly on the graph</p></li>
</ul>
<p>You now have a (synthetic) learning set.</p>
<p>You can use it to train a new model:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># @todo Rename the command to `train`?
lincs learn classification-model domain.yml learning-set.csv --output-model trained-model.yml
</pre></div>
</div>
<p>The trained model has the same structure as the original (synthetic) model because they are both MR-Sort models for the same domain,
but the trained model is numerically different because information was lost in the process:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>kind: classification-model
format_version: 1
boundaries:
  - profile:
      - 0.00751833664
      - 0.0549556538
      - 0.162616938
      - 0.193127945
    sufficient_coalitions:
      kind: weights
      criterion_weights:
        - 0.499998987
        - 0.5
        - 0.5
        - 0
  - profile:
      - 0.0340298451
      - 0.324480206
      - 0.672487617
      - 0.427051842
    sufficient_coalitions:
      kind: weights
      criterion_weights:
        - 0.499998987
        - 0.5
        - 0.5
        - 0
</pre></div>
</div>
<p>If the training is effective, the resulting trained model should behave closely to the original one.
To see how close a trained model is to the original one, you can reclassify a testing set.</p>
<p>First, generate a testing set:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs generate classified-alternatives domain.yml model.yml 10000 --output-classified-alternatives testing-set.csv
</pre></div>
</div>
<p>And ask the trained model to classify it:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs classify domain.yml trained-model.yml testing-set.csv --output-classified-alternatives reclassified-testing-set.csv
</pre></div>
</div>
<p>There are a few differences between the original testing set and the reclassified one:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>diff testing-set.csv reclassified-testing-set.csv
</pre></div>
</div>
<p>That command should show a few alternatives that are not classified the same way by the original and the trained model:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2595c2595
&lt; &quot;Alternative 2594&quot;,0.234433308,0.780464768,0.162389532,0.622178912,&quot;Category 2&quot;
---
&gt; &quot;Alternative 2594&quot;,0.234433308,0.780464768,0.162389532,0.622178912,&quot;Category 1&quot;
5000c5000
&lt; &quot;Alternative 4999&quot;,0.074135974,0.496049821,0.672853291,0.782560945,&quot;Category 2&quot;
---
&gt; &quot;Alternative 4999&quot;,0.074135974,0.496049821,0.672853291,0.782560945,&quot;Category 3&quot;
5346c5346
&lt; &quot;Alternative 5345&quot;,0.815349102,0.580399215,0.162403136,0.995580792,&quot;Category 2&quot;
---
&gt; &quot;Alternative 5345&quot;,0.815349102,0.580399215,0.162403136,0.995580792,&quot;Category 1&quot;
9639c9639
&lt; &quot;Alternative 9638&quot;,0.939305425,0.0550933145,0.247014269,0.265170485,&quot;Category 1&quot;
---
&gt; &quot;Alternative 9638&quot;,0.939305425,0.0550933145,0.247014269,0.265170485,&quot;Category 2&quot;
9689c9689
&lt; &quot;Alternative 9688&quot;,0.940304875,0.885046899,0.162586793,0.515185535,&quot;Category 2&quot;
---
&gt; &quot;Alternative 9688&quot;,0.940304875,0.885046899,0.162586793,0.515185535,&quot;Category 1&quot;
9934c9934
&lt; &quot;Alternative 9933&quot;,0.705289483,0.11529737,0.162508503,0.0438248962,&quot;Category 2&quot;
---
&gt; &quot;Alternative 9933&quot;,0.705289483,0.11529737,0.162508503,0.0438248962,&quot;Category 1&quot;
</pre></div>
</div>
<p>You can also measure the classification accuracy of the trained model on that testing set:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lincs classification-accuracy domain.yml trained-model.yml testing-set.csv
</pre></div>
</div>
<p>It should be close to 100%:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>9994/10000
</pre></div>
</div>
<p>Once you’re comfortable with the tooling, you can use a learning set based on real-world data and train a model that you can use to classify new real-world alternatives.</p>
</section>
</section>
<section id="user-guide">
<h1>User guide<a class="headerlink" href="#user-guide" title="Permalink to this heading">¶</a></h1>
<p>&#64;todo Write the user guide.</p>
</section>
<section id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this heading">¶</a></h1>
<p>&#64;todo Generate a reference documentation using Sphinx:</p>
<ul class="simple">
<li><p>Python using autodoc</p></li>
<li><p>C++ using Doxygen+Breath</p></li>
<li><p>CLI using <a class="reference external" href="https://sphinx-click.readthedocs.io/en/latest/">https://sphinx-click.readthedocs.io/en/latest/</a></p></li>
<li><p>YAML file formats using JSON Schema and <a class="reference external" href="https://sphinx-jsonschema.readthedocs.io/en/latest/">https://sphinx-jsonschema.readthedocs.io/en/latest/</a></p></li>
</ul>
</section>
<section id="develop-lincs-itself">
<h1>Develop <em>lincs</em> itself<a class="headerlink" href="#develop-lincs-itself" title="Permalink to this heading">¶</a></h1>
<p>Run <code class="docutils literal notranslate"><span class="pre">./run-development-cycle.sh</span></code>.</p>
<div class="toctree-wrapper compound">
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">lincs</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Copyright 2023 Vincent Jacques.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>